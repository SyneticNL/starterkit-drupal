{#
/**
 * Available variables:
 * - testblock_base_class - base classname of the wrapper
 * - testblock_modifiers - array of modifiers to add to the base classname of the wrapper
 * - testblock_blockname - blockname prepended to the base classname of the wrapper(s) and each component
 *
 * - testblock_img_src - the actual image file location
 * - testblock_img_alt - (optional) the alt text for screen readers and when the image cannot load
 * - testblock_img_url - Url the image should link to. Defaults to testblock_link_url
 *
 * - testblock_copy_base_class - base classname of the copy wrapper - defaults to 'testblock__copy'
 * - testblock_copy_modifiers - array of modifiers to add to the base classname of the copy wrapper
 * - testblock_copy_blockname - blockname prepended to the base classname of the copy wrapper
 *
 * - testblock_title - the content of the title component
 * - testblock_title_link - (optional) the url the title should link to. Defaults to testblock_link_url.
 * - testblock_title_base_class - base classname of the title component. Defaults to "title"
 * - testblock_title_blockname - blockname to add to the base classname of the title - defaults to testblock_base_class
 * - testblock_title_modifiers - array of modifiers to add to the base classname of the title
 * - testblock_title_link_base_class - base class to add to the title link - defaults to 'title-link'
 *
 * - testblock_subtitle - the content of the subtitle component
 * - testblock_subtitle_link - (optional) the url the subtitle should link to
 * - testblock_subtitle_base_class - base classname of the subtitle component. Defaults to "subtitle"
 * - testblock_subtitle_modifiers - array of modifiers to add to the base classname of the subtitle
 *
 * - testblock_body - the content of the body component
 * - testblock_body_base_class - base classname of the body component. Defaults to "body"
 * - testblock_body_modifiers - array of modifiers to add to the base classname of the body
 *
 * - testblock_link_text - the content of the link component
 * - testblock_link_url - the url the link should link to
 * - testblock_link_base_class - base classname of the link component. Defaults to "link"
 * - testblock_link_blockname - override link blockname. Defaults to testblock_base_class
 * - testblock_link_attributes - array of attribute,value pairs for the link attribute
 * - testblock_link_modifiers - array of modifiers to add to the base classname of the link
 *
 * - testblock_button_content - the content of the button component
 * - testblock_button_url - the url the button should link to
 * - testblock_button_base_class - base classname of the button component. Defaults to "button"
 * - testblock_button_attributes - array of attribute,value pairs for the button attribute
 * - testblock_button_modifiers - array of modifiers to add to the base classname of the button
 */
#}
{% set testblock_base_class = 'testblock' %}

<div {{ bem(testblock_base_class, (testblock_modifiers), testblock_blockname) }}>
  {% if testblock_img_src %}
    {% include "@atoms/04-images/00-image/image.twig" with {
      "img_url": testblock_img_url|default(testblock_link_url),
      "img_src": testblock_img_src,
      "img_alt": testblock_img_alt,
      "image_link_blockname": testblock_base_class,
      "image_blockname": testblock_base_class,
    } %}
  {% endif %}
  <div {{ bem(testblock_copy_base_class|default('testblock__copy'), (testblock_copy_modifiers), testblock_copy_blockname) }}>
    {% if testblock_title %}
      {{ title_prefix }}
      {% include "@atoms/01-headings/_heading.twig" with {
        "heading_level": 2,
        "heading": testblock_title,
        "heading_url": testblock_title_link|default(testblock_link_url),
        "heading_blockname": testblock_title_blockname|default(testblock_base_class),
        "heading_modifiers": testblock_title_modifiers,
        "heading_link_base_class": testblock_title_link_base_class|default('title-link'),
        "heading_link_blockname": testblock_base_class,
        "heading_base_class": testblock_title_base_class|default('title'),
      } %}
      {{ title_suffix }}
    {% endif %}
    {% if testblock_subtitle %}
      {% include "@atoms/01-headings/_heading.twig" with {
        "heading_level": 3,
        "heading": testblock_subtitle,
        "heading_url": testblock_subtitle_link,
        "heading_blockname": testblock_subtitle_blockname|default(testblock_base_class),
        "heading_modifiers": testblock_subtitle_modifiers,
        "heading_base_class": testblock_subtitle_base_class|default('subtitle'),
      } %}
    {% endif %}
    {% if testblock_body %}
      {% include "@atoms/02-text/01-paragraph.twig" with {
        "paragraph_content": testblock_body,
        "paragraph_blockname": testblock_body_base_class|default(testblock_base_class),
        "paragraph_modifiers": testblock_body_modifiers,
        "paragraph_base_class": testblock_body_base_class|default('body'),
      } %}
    {% endif %}
    {% if testblock_link_url %}
      {% include "@atoms/03-links/link/link.twig" with {
        "link_content": testblock_link_text,
        "link_url": testblock_link_url,
        "link_attributes": testblock_link_attributes,
        "link_blockname": testblock_link_blockname|default(testblock_base_class),
        "link_base_class": testblock_link_base_class|default('link'),
      } %}
    {% endif %}
    {% if testblock_button_url %}
      {% include "@atoms/06-button/button.twig" with {
        "button_content": testblock_button_content,
        "button_url": testblock_button_url,
        "button_base_class": testblock_button_base_class|default('button'),
        "button_attributes": testblock_button_attributes,
        "button_modifiers": testblock_button_modifiers,
        "button_blockname": testblock_blockname|default(testblock_base_class),
      } %}
    {% endif %}
  </div><!-- copy -->
</div>
