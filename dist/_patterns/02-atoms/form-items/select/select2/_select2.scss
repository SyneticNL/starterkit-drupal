// @file
// Styling for the select2 selectbox, which is available via the webform module.

$show-search-icon: true;
$search-icon: $icon-search;

.select2 {
  display: inline-block;

  // Select2 Trigger
  &-selection {
    position: relative;
    display: flex;
    flex-flow: row nowrap;
    align-items: center;
    border: $form-item--border-size solid $form-item--border-color;
    border-radius: $form-item--border-radius;
    cursor: pointer;
    transition: color $form-item--transition-timing ease-in-out, border-color $form-item--transition-timing ease-in-out;

    // Text within select2 trigger.
    &__rendered {
      display: block;
      white-space: nowrap;
      padding: $form-item--padding-vertical $form-item--padding-horizontal;
    }
    // Arrow within select2 trigger.
    &__arrow {
      display: block;
      flex: 0 0 $select--trigger-size;
      width: $select--trigger-size;
      color: $form-item--inactive-color;
      text-align: center;
      transition: color $form-item--transition-timing ease-in-out;
      &:before {
        @include icon-font($icon-family-name);
        content: $icon-arrow-down;
        font-size: $select--icon-size;
      }
    }

    &:hover {
      .select2-selection__arrow {
        color: $body-color;
      }
    }
  }

  // Focus / Active styling.
  &:focus,
  :focus {
    outline: none;
  }
  &-selection:focus,
  &-container--open .select2-selection {
    border-color: $form-item--focus-color;
    color: $form-item--focus-color;
    .select2-selection__arrow {
      color: $form-item--focus-color;
    }
  }

  // Dropdown wrapper, for positioning.
  &-dropdown-wrapper {
    display: block;
    clear: both;
  }

  // Select2 Dropdown.
  &-dropdown {
    display: block;
    border: $form-item--border-size solid $form-item--focus-color;
    border-top: none;
  }

  // Select2 search field.
  &-search {
    display: block;
    border-bottom: $form-item--border-size solid $form-item--focus-color;
    @if $show-search-icon == true {
      position: relative;
      padding-right: 2rem;
      &:before {
        @include icon-font($icon-family-name);
        content: $icon-search;
        position: absolute;
        top: 50%;
        right: .5rem;
        color: $form-item--inactive-color;
        transform: translateY(-50%);
      }
    }
    &__field {
      display: block;
      max-width: 100%;
      padding: $form-item--padding-vertical $form-item--padding-horizontal;
    }
  }

  // Select2 results.
  &-results {
    // List.
    &__options {
      margin: 0;
      padding: 0;
      list-style: none;
    }
    // Select2 option.
    &__option {
      padding: ($form-item--padding-vertical / 2) $form-item--padding-horizontal;
      cursor: pointer;
      &:hover {
        color: $form-item--focus-color;
      }
    }
  }

  // Hide normal selectbox but keep it accessible.
  &-hidden-accessible {
    border: 0!important;
    clip: rect(0 0 0 0)!important;
    -webkit-clip-path: inset(50%)!important;
    clip-path: inset(50%)!important;
    height: 1px!important;
    overflow: hidden!important;
    padding: 0!important;
    position: absolute!important;
    width: 1px!important;
    white-space: nowrap!important;
  }
}
 